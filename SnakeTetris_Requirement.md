# 標題：貪食蛇俄羅斯方塊混合遊戲

## 遊戲概述：
開發一款融合貪食蛇和俄羅斯方塊元素的網頁遊戲。遊戲在單一畫面上進行，玩家需要在兩種遊戲模式之間切換。

## 詳細需求：

1. 遊戲介面：
   - 使用 HTML5 Canvas 創建遊戲畫面
   - 遊戲區域大小為 300x600 像素
   - 顯示當前得分
   - 整體頁面採用簡潔的設計風格

2. 貪食蛇模式：
   - 玩家控制一條初始長度為 4 格的蛇
   - 蛇可以上、下、左、右移動
   - 場景中隨機出現水果
   - 蛇吃到水果後，切換到俄羅斯方塊模式
   - 蛇碰到牆壁或自身會導致遊戲結束

3. 俄羅斯方塊模式：
   - 在吃到水果的位置生成俄羅斯方塊
   - 玩家可以左右移動方塊，向下加速下落，以及旋轉方塊
   - 方塊落地後，切換回貪食蛇模式
   - 方塊堆積形成障礙物，影響貪食蛇的移動

4. 計分系統：
   - 玩家每吃到一個水果得 10 分

5. 遊戲控制：
   - 使用方向鍵控制蛇的移動和俄羅斯方塊的操作
   - 按 'R' 鍵重新開始遊戲

6. 遊戲循環：
   - 貪食蛇模式每 150 毫秒更新一次
   - 俄羅斯方塊模式每 500 毫秒更新一次

7. 圖形設計：
   - 使用不同顏色區分遊戲元素：綠色蛇、紅色水果、藍色方塊堆積、紫色當前方塊

8. 響應式設計：
   - 確保遊戲在不同設備上都能正常顯示和運行

## 請根據以下需求開發一個融合貪食蛇和俄羅斯方塊元素的 HTML5 網頁遊戲：

1. 使用 HTML、CSS 和 JavaScript 創建遊戲。
2. 遊戲介面應包含一個 300x600 像素的 Canvas 元素和一個顯示得分的區域。
3. 實現貪食蛇的基本功能，包括移動、吃水果和碰撞檢測。
4. 實現俄羅斯方塊的基本功能，包括方塊生成、移動、旋轉和堆積。
5. 在貪食蛇吃到水果後，切換到俄羅斯方塊模式；方塊落地後，切換回貪食蛇模式。
6. 使用方向鍵控制遊戲，並實現 'R' 鍵重置遊戲的功能。
7. 實現計分系統，每吃到一個水果得 10 分。
8. 使用不同顏色區分遊戲元素，並添加網格背景以增強視覺效果。
9. 確保代碼結構清晰，並添加必要的注釋。
10. 優化遊戲性能，確保流暢運行。

請提供完整的 HTML 文件，包括所有必要的 CSS 和 JavaScript 代碼。代碼應該是可以直接在瀏覽器中運行的。
